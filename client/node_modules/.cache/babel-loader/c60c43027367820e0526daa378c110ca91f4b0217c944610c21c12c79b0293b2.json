{"ast":null,"code":"import React,{useContext,useEffect,useState}from'react';import SideBar from\"../components/CategoryPage/SideBar\";import MyBreadcrumbs from\"../components/CategoryPage/MyBreadcrumbs\";import{fetchCategories,fetchGoods,fetchBrands,fetchOneGood}from\"../http/shopAPI\";import{Context}from\"../index\";import{useParams}from'react-router-dom';import GoodDetails from'../components/GoodPage/GoodDetails';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var GoodInfo=function GoodInfo(){var params=useParams();var _useContext=useContext(Context),good=_useContext.good;useEffect(function(){fetchCategories().then(function(c){good.setCategories(c);});fetchOneGood(params.id).then(function(g){good.setGood(g);good.setBreadcrumbsLinks([{title:'Главная',link:'/',active:false},{title:'Каталог',link:'/catalog',active:false},{title:g.category.name,link:'/catalog/category/'+params.id,active:false},{title:g.model,link:'/',active:true}]);});fetchBrands().then(function(data){return good.setBrands(data);});});return/*#__PURE__*/_jsxs(\"main\",{className:\"catalog-main\",children:[/*#__PURE__*/_jsx(SideBar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"main\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"update-main\",children:[/*#__PURE__*/_jsx(MyBreadcrumbs,{links:good.breadcrumbsLinks}),/*#__PURE__*/_jsx(GoodDetails,{})]})})]});};export default GoodInfo;","map":{"version":3,"names":["React","useContext","useEffect","useState","SideBar","MyBreadcrumbs","fetchCategories","fetchGoods","fetchBrands","fetchOneGood","Context","useParams","GoodDetails","GoodInfo","params","good","then","c","setCategories","id","g","setGood","setBreadcrumbsLinks","title","link","active","category","name","model","data","setBrands","breadcrumbsLinks"],"sources":["C:/Users/jhokipery/Documents/works/onepro/onepro/client/src/pages/GoodInfo.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport SideBar from \"../components/CategoryPage/SideBar\";\r\nimport MyBreadcrumbs from \"../components/CategoryPage/MyBreadcrumbs\";\r\nimport { fetchCategories, fetchGoods, fetchBrands, fetchOneGood } from \"../http/shopAPI\";\r\nimport { Context } from \"../index\";\r\nimport { useParams } from 'react-router-dom';\r\nimport GoodDetails from '../components/GoodPage/GoodDetails';\r\n\r\nconst GoodInfo = () => {\r\n\r\n    const params = useParams()\r\n    const { good } = useContext(Context)\r\n\r\n    useEffect(() => {\r\n        fetchCategories().then((c) => {\r\n            good.setCategories(c)\r\n        })\r\n        fetchOneGood(params.id).then((g) => {\r\n            good.setGood(g)\r\n            good.setBreadcrumbsLinks([\r\n                { title: 'Главная', link: '/', active: false },\r\n                { title: 'Каталог', link: '/catalog', active: false },\r\n                { title: g.category.name, link: '/catalog/category/' + params.id, active: false },\r\n                { title: g.model, link: '/', active: true }\r\n            ])\r\n        })\r\n        fetchBrands().then(data => good.setBrands(data))\r\n    })\r\n\r\n    return (\r\n        <main className=\"catalog-main\">\r\n            <SideBar />\r\n            <div className=\"main\">\r\n                <div className=\"update-main\">\r\n                    <MyBreadcrumbs links={good.breadcrumbsLinks} />\r\n                   <GoodDetails/>\r\n                </div>\r\n            </div>\r\n        </main>\r\n    )\r\n};\r\n\r\nexport default GoodInfo;"],"mappings":"AAAA,MAAOA,MAAK,EAAIC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC9D,MAAOC,QAAO,KAAM,oCAAoC,CACxD,MAAOC,cAAa,KAAM,0CAA0C,CACpE,OAASC,eAAe,CAAEC,UAAU,CAAEC,WAAW,CAAEC,YAAY,KAAQ,iBAAiB,CACxF,OAASC,OAAO,KAAQ,UAAU,CAClC,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,MAAOC,YAAW,KAAM,oCAAoC,CAAC,wFAE7D,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CAEnB,GAAMC,OAAM,CAAGH,SAAS,EAAE,CAC1B,gBAAiBV,UAAU,CAACS,OAAO,CAAC,CAA5BK,IAAI,aAAJA,IAAI,CAEZb,SAAS,CAAC,UAAM,CACZI,eAAe,EAAE,CAACU,IAAI,CAAC,SAACC,CAAC,CAAK,CAC1BF,IAAI,CAACG,aAAa,CAACD,CAAC,CAAC,CACzB,CAAC,CAAC,CACFR,YAAY,CAACK,MAAM,CAACK,EAAE,CAAC,CAACH,IAAI,CAAC,SAACI,CAAC,CAAK,CAChCL,IAAI,CAACM,OAAO,CAACD,CAAC,CAAC,CACfL,IAAI,CAACO,mBAAmB,CAAC,CACrB,CAAEC,KAAK,CAAE,SAAS,CAAEC,IAAI,CAAE,GAAG,CAAEC,MAAM,CAAE,KAAM,CAAC,CAC9C,CAAEF,KAAK,CAAE,SAAS,CAAEC,IAAI,CAAE,UAAU,CAAEC,MAAM,CAAE,KAAM,CAAC,CACrD,CAAEF,KAAK,CAAEH,CAAC,CAACM,QAAQ,CAACC,IAAI,CAAEH,IAAI,CAAE,oBAAoB,CAAGV,MAAM,CAACK,EAAE,CAAEM,MAAM,CAAE,KAAM,CAAC,CACjF,CAAEF,KAAK,CAAEH,CAAC,CAACQ,KAAK,CAAEJ,IAAI,CAAE,GAAG,CAAEC,MAAM,CAAE,IAAK,CAAC,CAC9C,CAAC,CACN,CAAC,CAAC,CACFjB,WAAW,EAAE,CAACQ,IAAI,CAAC,SAAAa,IAAI,QAAId,KAAI,CAACe,SAAS,CAACD,IAAI,CAAC,GAAC,CACpD,CAAC,CAAC,CAEF,mBACI,cAAM,SAAS,CAAC,cAAc,wBAC1B,KAAC,OAAO,IAAG,cACX,YAAK,SAAS,CAAC,MAAM,uBACjB,aAAK,SAAS,CAAC,aAAa,wBACxB,KAAC,aAAa,EAAC,KAAK,CAAEd,IAAI,CAACgB,gBAAiB,EAAG,cAChD,KAAC,WAAW,IAAE,GACX,EACJ,GACH,CAEf,CAAC,CAED,cAAelB,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}